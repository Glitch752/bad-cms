{"version":3,"sources":["../src/resolveStringLiteral.js"],"names":["path","styleModuleImportMap","sourceAttribute","destinationName","options","resolvedStyleName","value","destinationAttribute","node","openingElement","attributes","find","attribute","name","expression","Error","splice","indexOf"],"mappings":";;;;;;;AAEA;;AAMA;;AACA;;;;AAMA;AACA;AACA;AACA;eACe,CACbA,IADa,EAEbC,oBAFa,EAGbC,eAHa,EAIbC,eAJa,EAKbC,OALa,KAMJ;AACT,QAAMC,iBAAiB,GAAG,2BACxBH,eAAe,CAACI,KAAhB,CAAsBA,KADE,EAExBL,oBAFwB,EAGxBG,OAHwB,CAA1B;AAMA,QAAMG,oBAAoB,GAAGP,IAAI,CAACQ,IAAL,CAAUC,cAAV,CAAyBC,UAAzB,CAC1BC,IAD0B,CACpBC,SAAD,IAAe,OAAOA,SAAS,CAACC,IAAjB,KAA0B,WAA1B,IAAyCD,SAAS,CAACC,IAAV,CAAeA,IAAf,KAAwBV,eAD3D,CAA7B;;AAGA,MAAII,oBAAJ,EAA0B;AACxB,QAAI,4BAAgBA,oBAAoB,CAACD,KAArC,CAAJ,EAAiD;AAC/CC,MAAAA,oBAAoB,CAACD,KAArB,CAA2BA,KAA3B,IAAqC,IAAGD,iBAAkB,EAA1D;AACD,KAFD,MAEO,IAAI,qCAAyBE,oBAAoB,CAACD,KAA9C,CAAJ,EAA0D;AAC/DC,MAAAA,oBAAoB,CAACD,KAArB,CAA2BQ,UAA3B,GAAwC,oCACtCP,oBAAoB,CAACD,KAArB,CAA2BQ,UADW,EAEtC,0BAAcT,iBAAd,CAFsC,CAAxC;AAID,KALM,MAKA;AACL,YAAM,IAAIU,KAAJ,CAAW,8BAA6BR,oBAAoB,CAACD,KAAM,EAAnE,CAAN;AACD;;AAEDN,IAAAA,IAAI,CAACQ,IAAL,CAAUC,cAAV,CAAyBC,UAAzB,CAAoCM,MAApC,CACEhB,IAAI,CAACQ,IAAL,CAAUC,cAAV,CAAyBC,UAAzB,CAAoCO,OAApC,CAA4Cf,eAA5C,CADF,EAEE,CAFF;AAID,GAhBD,MAgBO;AACL;AACAA,IAAAA,eAAe,CAACW,IAAhB,CAAqBA,IAArB,GAA4BV,eAA5B;AACAD,IAAAA,eAAe,CAACI,KAAhB,CAAsBA,KAAtB,GAA8BD,iBAA9B;AACA;AACD;AACF,C","sourcesContent":["// @flow\n\nimport {\n  isJSXExpressionContainer,\n  isStringLiteral,\n  JSXAttribute,\n  stringLiteral,\n} from '@babel/types';\nimport conditionalClassMerge from './conditionalClassMerge';\nimport getClassName from './getClassName';\nimport type {\n  StyleModuleImportMapType,\n  GetClassNameOptionsType,\n} from './types';\n\n/**\n * Updates the className value of a JSX element using a provided\n * styleName attribute.\n */\nexport default (\n  path: *,\n  styleModuleImportMap: StyleModuleImportMapType,\n  sourceAttribute: typeof JSXAttribute,\n  destinationName: string,\n  options: GetClassNameOptionsType,\n): void => {\n  const resolvedStyleName = getClassName(\n    sourceAttribute.value.value,\n    styleModuleImportMap,\n    options,\n  );\n\n  const destinationAttribute = path.node.openingElement.attributes\n    .find((attribute) => typeof attribute.name !== 'undefined' && attribute.name.name === destinationName);\n\n  if (destinationAttribute) {\n    if (isStringLiteral(destinationAttribute.value)) {\n      destinationAttribute.value.value += ` ${resolvedStyleName}`;\n    } else if (isJSXExpressionContainer(destinationAttribute.value)) {\n      destinationAttribute.value.expression = conditionalClassMerge(\n        destinationAttribute.value.expression,\n        stringLiteral(resolvedStyleName),\n      );\n    } else {\n      throw new Error(`Unexpected attribute value:${destinationAttribute.value}`);\n    }\n\n    path.node.openingElement.attributes.splice(\n      path.node.openingElement.attributes.indexOf(sourceAttribute),\n      1,\n    );\n  } else {\n    /* eslint-disable no-param-reassign */\n    sourceAttribute.name.name = destinationName;\n    sourceAttribute.value.value = resolvedStyleName;\n    /* eslint-enable no-param-reassign */\n  }\n};\n"],"file":"resolveStringLiteral.js"}